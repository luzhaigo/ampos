(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={wrapper:"Nav_wrapper__1GUm2",link:"Nav_link__3XVZD",search:"Nav_search__2hKga"}},13:function(e,t,a){e.exports={header:"Header_header__2godu",logo:"Header_logo__1IDV_",title:"Header_title__1Vi7m",menu:"Header_menu__pADmR",wrapper:"Header_wrapper__1c8G8",mobile:"Header_mobile__3Cb_O"}},14:function(e,t,a){e.exports={card:"NewCard_card__2yVDA",mobile_img:"NewCard_mobile_img__Yxd39",wrapper:"NewCard_wrapper__dSzpa",title:"NewCard_title__fwNgb",content:"NewCard_content__MqBMY",date:"NewCard_date__2ZVbn"}},16:function(e,t,a){e.exports={footer:"Footer_footer__1YIEM",link:"Footer_link__1L7WT"}},19:function(e,t,a){e.exports=a.p+"static/media/img_not_found.a5c60335.png"},24:function(e,t,a){e.exports={App:"App_App__nsHEG",search:"App_search__KgtIl",appbody:"App_appbody__2FaS1"}},28:function(e,t,a){e.exports={list:"NewsList_list__7tF3K",error:"NewsList_error__2P1dU"}},40:function(e,t,a){e.exports={search:"Search_search__Xr4yG"}},43:function(e,t,a){e.exports=a.p+"static/media/menu.6fc8f024.svg"},44:function(e,t,a){e.exports={news:"NewsPage_news__1evH9"}},45:function(e,t,a){e.exports={loadmore:"LoadMoreButton_loadmore__32Obt"}},46:function(e,t,a){e.exports=a.p+"static/media/loading.6062da51.svg"},47:function(e,t,a){e.exports={loading:"Loading_loading__3Ft6u"}},48:function(e,t,a){e.exports=a(86)},53:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),i=(a(53),a(9)),o=a(10),s=a(38),u=a.n(s),m=a(39),d=a(29),p=a(20),_={articles:[],page:1,request:!1,error:!1,query:""},E=Object(o.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_news_request":return Object(p.a)({},e,{request:!0,error:!1});case"get_news":return t.error?Object(p.a)({},e,{request:!1,error:!!t.error}):Object(p.a)({},e,{articles:[].concat(Object(d.a)(e.articles),Object(d.a)(t.payload.data.articles)),page:e.page+1,request:!1,error:!!t.error});case"query_news":return Object(p.a)({},e,{page:1,articles:[],query:t.query});default:return e}}}),g=a(2),w=a(11),f=a(15),b=a(12),v=a.n(b),N=a(40),h=a.n(N),y=a(41),O=a.n(y).a.create({baseURL:"https://newsapi.org/v2",headers:{"X-Api-Key":"bf4bbd60085e4f13a94e4621e1407889"}}),j=function(e){return function(t,a){var n=a(),r=e||n.news.page;t({type:"get_news_request"}),t({type:"get_news",payload:O.get("/top-headlines?category=general&page=".concat(r,"&pageSize=15").concat(n.news.query?"&q=".concat(n.news.query):""))})}},x=Object(w.d)(Object(i.b)(null,{queryNews:function(e){return{type:"query_news",query:e}},getNews:j})(function(e){var t=e.queryNews,a=e.getNews,n=e.location;return r.a.createElement("div",{className:h.a.search},r.a.createElement("label",null,r.a.createElement("img",{alt:"",src:""}),r.a.createElement("input",{placeholder:"search",onKeyDown:function(e){"Enter"===e.key&&"/news"===n.pathname&&(t(e.target.value),a())}})))})),q=function(){return r.a.createElement("nav",{className:v.a.wrapper},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{className:v.a.link,to:"/news"},"News")),r.a.createElement("li",null,r.a.createElement(g.b,{className:v.a.link,to:"/regions"},"Regions")),r.a.createElement("li",null,r.a.createElement(g.b,{className:v.a.link,to:"/video"},"Video")),r.a.createElement("li",null,r.a.createElement(g.b,{className:v.a.link,to:"/tv"},"TV")),r.a.createElement("li",{className:v.a.search},r.a.createElement(x,null))))},k=a(13),A=a.n(k),C=a(43),V=a.n(C),T={news:"News",regions:"Regions",video:"Video",tv:"TV"},L=Object(w.d)(function(e){var t=e.location,a=Object(n.useState)(!1),c=Object(f.a)(a,2),l=c[0],i=c[1],o=Object(n.useMemo)(function(){return T[t.pathname.slice(1)]},[t.pathname]);return r.a.createElement("div",{id:A.a.header},r.a.createElement(g.b,{to:"/news",id:A.a.logo},"Logo"),r.a.createElement("div",{className:A.a.title},o),r.a.createElement("button",{className:A.a.menu,onClick:function(){i(!l)}},r.a.createElement("img",{src:V.a,alt:"menu"})),r.a.createElement("div",{className:A.a.wrapper},r.a.createElement(q,null)),r.a.createElement("div",{className:A.a.mobile,style:{display:l?"flex":"none"},onClick:function(){i(!1)}},r.a.createElement(q,null)))}),S=a(24),M=a.n(S),R=a(44),H=a.n(R),F=a(45),I=a.n(F),D=Object(i.b)(null,{getNews:j})(function(e){var t=e.getNews;return r.a.createElement("button",{className:I.a.loadmore,onClick:function(){t()}},"Load More")}),B=a(28),G=a.n(B),J=a(14),K=a.n(J),z=a(19),U=a.n(z),P=["January","February","March","April","May","June","July","August","September","October","November","December"];var W=function(e){var t=e.width,a=e.newObj,c=Object(n.useState)(a.urlToImage||U.a),l=Object(f.a)(c,2),i=l[0],o=l[1];return Object(n.useEffect)(function(){o(a.urlToImage||U.a)},[a.urlToImage]),r.a.createElement("a",{className:K.a.card,style:{width:t},href:a.url},r.a.createElement("div",{className:K.a.mobile_img},r.a.createElement("img",{src:i,alt:a.description,onError:function(){o(U.a)}})),r.a.createElement("div",{className:K.a.wrapper},r.a.createElement("div",{className:K.a.title},a.title),r.a.createElement("img",{src:i,alt:a.description,onError:function(){o(U.a)}}),r.a.createElement("div",{className:K.a.content},a.content),r.a.createElement("div",{className:K.a.date},"Updated: ",function(e){var t=e.match(/\d+/g),a=P[+t[1]];return"".concat(a," ").concat(t[2],", ").concat(t[3],":").concat(t[4])}(a.publishedAt))))},X=a(46),Y=a.n(X),Z=a(47),Q=a.n(Z),$=function(){return r.a.createElement("div",{className:Q.a.loading},r.a.createElement("img",{src:Y.a,alt:"loading..."}))},ee=r.a.memo(W),te=Object(i.b)(function(e){return{articles:e.news.articles,request:e.news.request,error:e.news.error}},{getNews:j})(function(e){var t=e.articles,a=e.getNews,c=e.request,l=e.error,i=Object(n.useState)(void 0),o=Object(f.a)(i,2),s=o[0],u=o[1],m=Object(n.useRef)(null),d=Object(n.useCallback)(function(e){if(null!==e){m.current=e;var t,a=e.getBoundingClientRect().width;t=window.innerWidth<600?void 0:(a-80)/3,u(t)}},[]);return Object(n.useEffect)(function(){t.length||a();var e=function(){var e,t=m.current.getBoundingClientRect().width;e=window.innerWidth<600?void 0:(t-80)/3,u(e)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),r.a.createElement("div",{className:G.a.list,ref:d},t.map(function(e,t){return r.a.createElement(ee,{key:t,newObj:e,width:s})}),c&&r.a.createElement($,null),l&&r.a.createElement("div",{className:G.a.error},"Oops! Get News Failed!"))}),ae=function(){return r.a.createElement("div",{className:H.a.news},r.a.createElement(te,null),r.a.createElement(D,null))},ne=a(16),re=a.n(ne),ce=function(){return r.a.createElement("div",{className:re.a.footer},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{className:re.a.link,to:"/news"},"News")),r.a.createElement("li",null,r.a.createElement(g.b,{className:re.a.link,to:"/regions"},"Regions")),r.a.createElement("li",null,r.a.createElement(g.b,{className:re.a.link,to:"/video"},"Video")),r.a.createElement("li",null,r.a.createElement(g.b,{className:re.a.link,to:"/tv"},"TV"))),r.a.createElement("div",null,"Copy right \xa9 AMPOS"))},le=function(e){return Object(n.useEffect)(function(){"/"===e.location.pathname&&e.history.replace("/news")},[]),null},ie=function(){return r.a.createElement("div",{style:{textAlign:"center",padding:"300px 0"}},"This is a Regions page")},oe=function(){return r.a.createElement("div",{style:{textAlign:"center",padding:"300px 0"}},"This is a Video page")},se=function(){return r.a.createElement("div",{style:{textAlign:"center",padding:"300px 0"}},"This is a TV page")},ue=function(){return r.a.createElement("div",{className:M.a.App},r.a.createElement(g.a,null,r.a.createElement(L,null),r.a.createElement("div",{className:M.a.search},r.a.createElement(x,null)),r.a.createElement("div",{className:M.a.appbody},r.a.createElement(w.a,{exact:!0,path:"/",component:le}),r.a.createElement(w.a,{exact:!0,path:"/news",component:ae}),r.a.createElement(w.a,{exact:!0,path:"/regions",component:ie}),r.a.createElement(w.a,{exact:!0,path:"/video",component:oe}),r.a.createElement(w.a,{exact:!0,path:"/tv",component:se}),r.a.createElement(ce,null))))};l.a.render(r.a.createElement(function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a,c=Object(o.d)(E,n,o.a.apply(void 0,[u.a,m.a]));return r.a.createElement(i.a,{store:c},t)},null,r.a.createElement(ue,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.fddb41f4.chunk.js.map